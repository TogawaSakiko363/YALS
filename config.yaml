# YALS Server Configuration

# Application settings
app:
  version: "3.0.0-rc1"

# Server settings
server:
  host: "localhost"
  port: 8080
  log_level: "info"  # debug, info, warn, error

# WebSocket settings
websocket:
  ping_interval: 30  # seconds
  pong_wait: 60      # seconds

# Command templates - flexible command definitions
commands:
  ping:
    template: "ping -c 4"
    description: "网络连通性测试"
  mtr:
    template: "mtr -r -c 4"
    description: "网络路由和丢包分析"
  nexttrace:
    template: "nexttrace --map --ipv4 --nocolor"
    description: "可视化路由跟踪"
  gb6:
    template: "bash /opt/geekbench6/gb6.sh"
    description: "Geekbench6 单核性能测试"
  # 示例：添加新命令
  # dig:
  #   template: "dig +short"
  #   description: "DNS查询"

# Agent settings
agents:
  - name: "localhost"
    host: "127.0.0.1:9527"
    password: "abc123"
    commands:
      - ping
      - mtr
      - nexttrace
    details:
      location: "local"
      datacenter: "homelab"
      test_ip: "127.0.0.1"
      description: "114514Gbps"


group:
  - name: "local"
    agents:
      - "localhost"

# Connection settings
connection:
  timeout: 10        # seconds
  keepalive: 60      # seconds
  retry_interval: 30 # seconds
  max_retries: 0     # 0 = infinite retries, >0 = limited retries
  offline_after_retries: 3 # After 3 failed reconnections, it is considered offline
